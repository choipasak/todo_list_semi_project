<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="com.spring.todoproject.mytodolist.mapper.IMyTodoListMapper">
	
	<resultMap type="user" id="getUser">
		<result property="userId" column="user_id" />
		<result property="profileColor" column="profile_color" />		
	</resultMap>
	
	<resultMap type="board" id="getBoard">
		<result property="content" column="content" />
		<result property="boardRegdate" column="board_regdate" />
	</resultMap>
	
		
	<select id="getUserInfo" resultMap="getUser">
		SELECT nickname, profile_color
		FROM users
		WHERE user_id = #{userId}
	</select>
	
	<select id="getFromBoard" resultMap="getBoard">
		SELECT board_bno, content, board_regdate
		FROM board b JOIN users u
		ON b.user_id = u.user_id
		WHERE u.user_id = #{userId}
	</select>

</mapper>